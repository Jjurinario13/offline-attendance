<!DOCTYPE html>
<html>
<head>
<title>Offline Attendance System</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&display=swap');

body {
    font-family: 'Fredoka', cursive;
    background: linear-gradient(135deg, #c9d6ff, #e2e2e2);
    text-align: center;
    margin: 0;
    padding: 0;
}

.container {
    width: 900px;
    margin: 50px auto;
    background: white;
    padding: 30px;
    border-radius: 25px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.2);
}

input, select {
    padding: 14px;
    margin: 10px;
    width: 280px;
    border-radius: 20px;
    border: none;
    font-size: 16px;
    background: #f1f3f6;
}

button {
    padding: 15px 40px;
    margin: 10px;
    border: none;
    border-radius: 50px;
    background: linear-gradient(145deg, #4facfe, #00f2fe);
    color: white;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
}

.logout-btn {
    background: linear-gradient(145deg, #ff512f, #dd2476);
}

.hidden { display:none; }

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 25px;
}

th, td { padding: 12px; }
th { background:#667eea; color:white; }
tr:nth-child(even){ background:#f6f8ff; }

/* CLOCK */
.clock-box {
    background:#111;
    color:#00ffcc;
    padding:8px 20px;
    border-radius:12px;
    margin:10px auto;
    font-family: monospace;
    width: fit-content;
}

.clock-time{ font-size:22px; }
#dubaiDate{ font-size:14px; }
#temp{ font-size:14px; color:#ffcc00; }
</style>
</head>

<body>

<div class="container" id="loginBox">
    <h2>Employee Login</h2>
    <input id="empId" placeholder="Employee ID"><br>
    <input id="password" type="password" placeholder="Password"><br>
    <button onclick="login()">Login</button>
</div>

<div class="container hidden" id="dashboard">
    <h2>Attendance Dashboard</h2>

    <button class="logout-btn" onclick="logout()">â¬… Back / Logout</button>

    <div class="clock-box">
        <div id="dubaiDate"></div>
        <div class="clock-time" id="dubaiTime"></div>
        <div id="temp"></div>
    </div>

    <input id="empName" placeholder="Employee Name"><br>

    <select id="position">
        <option value="">-- Position --</option>
        <option>HR Staff</option>
        <option>Web Developer</option>
        <option>Manager</option>
    </select>

    <select id="department">
        <option value="">-- Department --</option>
        <option>HR</option>
        <option>IT</option>
        <option>Operations</option>
    </select>

    <br><br>
    <button onclick="timeIn()">Time In</button>
    <button onclick="timeOut()">Time Out</button>

    <h3>Attendance Records</h3>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Position</th>
            <th>Department</th>
            <th>Status</th>
            <th>Date</th>
            <th>Time</th>
        </tr>
        </thead>
        <tbody id="records"></tbody>
    </table>
</div>

<script>
document.addEventListener("DOMContentLoaded", ()=>{

const empId = document.getElementById("empId");
const password = document.getElementById("password");
const loginBox = document.getElementById("loginBox");
const dashboard = document.getElementById("dashboard");
const empName = document.getElementById("empName");
const position = document.getElementById("position");
const department = document.getElementById("department");
const records = document.getElementById("records");
const dubaiDate = document.getElementById("dubaiDate");
const dubaiTime = document.getElementById("dubaiTime");
const temp = document.getElementById("temp");

const users = { "abcd123":"1234" };

const employees = {
    "lenylen buguas": { position:"HR Staff", department:"HR" },
    "justin jurinario": { position:"Web Developer", department:"IT" },
    "kobe bryant": { position:"Manager", department:"Operations" }
};

window.login = function(){
    if(users[empId.value.trim()] === password.value.trim()){
        loginBox.classList.add("hidden");
        dashboard.classList.remove("hidden");
        updateDubaiTime();
        generateTemp();
        empName.focus();
    } else {
        alert("LOGIN FAILED\nID: abcd123\nPassword: 1234");
    }
}

window.logout = function(){
    dashboard.classList.add("hidden");
    loginBox.classList.remove("hidden");
    empId.value="";
    password.value="";
    empName.value="";
    position.value="";
    department.value="";
    empId.focus();
}

empName.addEventListener("input", ()=>{
    const key = empName.value.toLowerCase().trim();
    if(employees[key]){
        position.value = employees[key].position;
        department.value = employees[key].department;
    }
});

/* CLOCK */
function updateDubaiTime(){
    let now = new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Dubai"}));
    dubaiDate.innerText = "Dubai: " + now.toLocaleDateString();
    dubaiTime.innerText = now.toLocaleTimeString();
}
setInterval(updateDubaiTime,1000);

/* FAKE TEMPERATURE (offline) */
function generateTemp(){
    let t = Math.floor(Math.random() * (40 - 28 + 1)) + 28;
    temp.innerText = "ðŸŒ¡ " + t + "Â°C";
}
setInterval(generateTemp,60000); // every 1 minute

window.timeIn = ()=>save("IN");
window.timeOut = ()=>save("OUT");

function save(status){
    if(!empName.value) return alert("Enter name first");
    let now = new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Dubai"}));
    records.innerHTML += `
    <tr>
        <td>${empId.value}</td>
        <td>${empName.value}</td>
        <td>${position.value}</td>
        <td>${department.value}</td>
        <td>${status}</td>
        <td>${now.toLocaleDateString()}</td>
        <td>${now.toLocaleTimeString()}</td>
    </tr>`;
}

empId.addEventListener("keydown", e=> e.key==="Enter" && password.focus());
password.addEventListener("keydown", e=> e.key==="Enter" && login());
empName.addEventListener("keydown", e=> e.key==="Enter" && timeIn());

});
</script>

</body>
</html>
